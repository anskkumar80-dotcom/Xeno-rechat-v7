-- [[ XENO GLOBAL UNCENSORED - STAR & SPEED BOX INTEGRATED ]] --
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local HttpService = game:GetService("HttpService")
local UserInputService = game:GetService("UserInputService")

-- [[ CONFIGURATION ]] --
local ACCESS_KEY = "XENOSTAYSFOREVER" -- Key updated as requested
local CREATOR_NAME = LocalPlayer.Name 

-- [[ GUI STARTUP ]] --
local ScreenGui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
ScreenGui.Name = "XENO_SYSTEM_V7"; ScreenGui.ResetOnSpawn = false

-- [[ 1. KEY SYSTEM UI ]] --
local KeyFrame = Instance.new("Frame", ScreenGui)
KeyFrame.Size = UDim2.new(0, 300, 0, 150); KeyFrame.Position = UDim2.new(0.5, -150, 0.4, -75)
KeyFrame.BackgroundColor3 = Color3.fromRGB(15, 10, 25); Instance.new("UICorner", KeyFrame)
local KeyStroke = Instance.new("UIStroke", KeyFrame); KeyStroke.Thickness = 2; KeyStroke.Color = Color3.fromRGB(120, 0, 255)

local KeyInput = Instance.new("TextBox", KeyFrame)
KeyInput.Size = UDim2.new(0, 250, 0, 40); KeyInput.Position = UDim2.new(0.5, -125, 0.3, 0)
KeyInput.PlaceholderText = "Enter Access Key..."; KeyInput.BackgroundColor3 = Color3.fromRGB(30, 20, 45)
KeyInput.TextColor3 = Color3.new(1,1,1); KeyInput.Text = ""; Instance.new("UICorner", KeyInput)

local SubmitBtn = Instance.new("TextButton", KeyFrame)
SubmitBtn.Size = UDim2.new(0, 150, 0, 40); SubmitBtn.Position = UDim2.new(0.5, -75, 0.7, 0)
SubmitBtn.Text = "LOGIN"; SubmitBtn.BackgroundColor3 = Color3.fromRGB(120, 0, 255)
SubmitBtn.TextColor3 = Color3.new(1,1,1); Instance.new("UICorner", SubmitBtn)

-- [[ 2. XC TOGGLE ICON ]] --
local XCIcon = Instance.new("TextButton", ScreenGui)
XCIcon.Size = UDim2.new(0, 55, 0, 55); XCIcon.Position = UDim2.new(0, 20, 0.7, 0)
XCIcon.BackgroundColor3 = Color3.fromRGB(120, 0, 255); XCIcon.Text = "XC"
XCIcon.TextColor3 = Color3.new(1, 1, 1); XCIcon.Font = Enum.Font.GothamBold; XCIcon.TextSize = 20; XCIcon.Visible = false
Instance.new("UICorner", XCIcon).CornerRadius = UDim.new(1, 0)
local IconStroke = Instance.new("UIStroke", XCIcon); IconStroke.Thickness = 2; IconStroke.Color = Color3.new(1,1,1)

-- [[ 3. MAIN CHAT WINDOW ]] --
local ChatFrame = Instance.new("Frame", ScreenGui)
ChatFrame.Size = UDim2.new(0, 400, 0, 300); ChatFrame.Position = UDim2.new(0.5, -200, 0.5, -150)
ChatFrame.BackgroundColor3 = Color3.fromRGB(10, 5, 15); ChatFrame.Visible = false; ChatFrame.BackgroundTransparency = 0.1
Instance.new("UICorner", ChatFrame)
local ChatStroke = Instance.new("UIStroke", ChatFrame); ChatStroke.Color = Color3.fromRGB(120, 0, 255)

local Scroll = Instance.new("ScrollingFrame", ChatFrame)
Scroll.Size = UDim2.new(1, -20, 1, -85); Scroll.Position = UDim2.new(0, 10, 0, 10)
Scroll.BackgroundTransparency = 1; Scroll.CanvasSize = UDim2.new(0, 0, 0, 0); Scroll.ScrollBarThickness = 3
local Layout = Instance.new("UIListLayout", Scroll); Layout.VerticalAlignment = Enum.VerticalAlignment.Bottom

local ChatInput = Instance.new("TextBox", ChatFrame)
ChatInput.Size = UDim2.new(1, -20, 0, 35); ChatInput.Position = UDim2.new(0, 10, 1, -45)
ChatInput.PlaceholderText = "Type Uncensored Message..."; ChatInput.BackgroundColor3 = Color3.fromRGB(25, 15, 40)
ChatInput.TextColor3 = Color3.new(1, 1, 1); ChatInput.TextXAlignment = Enum.TextXAlignment.Left; Instance.new("UICorner", ChatInput)

-- [[ HELPER FUNCTIONS ]] --
local function addMsg(name, text)
    local tag = (name == CREATOR_NAME) and "<font color='#FFD700'>[CREATOR]</font> " or "<font color='#7800FF'>[USER]</font> "
    local lbl = Instance.new("TextLabel", Scroll)
    lbl.Size = UDim2.new(1, 0, 0, 22); lbl.BackgroundTransparency = 1; lbl.RichText = true
    lbl.Text = tag .. "<b>" .. name .. "</b>: " .. text; lbl.TextColor3 = Color3.new(1,1,1)
    lbl.Font = Enum.Font.Gotham; lbl.TextSize = 14; lbl.TextXAlignment = Enum.TextXAlignment.Left
    Scroll.CanvasSize = UDim2.new(0, 0, 0, Layout.AbsoluteContentSize.Y)
    Scroll.CanvasPosition = Vector2.new(0, Layout.AbsoluteContentSize.Y)
end

local function makeDraggable(gui)
    local dragging, dragInput, dragStart, startPos
    gui.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true; dragStart = input.Position; startPos = gui.Position
        end
    end)
    UserInputService.InputChanged:Connect(function(input)
        if dragging and (input.UserInputType == Enum.UserInputType.MousePointer or input.UserInputType == Enum.UserInputType.Touch) then
            local delta = input.Position - dragStart
            gui.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
    UserInputService.InputEnded:Connect(function(input) if input.UserInputType == Enum.UserInputType.MouseButton1 then dragging = false end end)
end

-- [[ LOGIC ]] --
SubmitBtn.MouseButton1Click:Connect(function()
    if KeyInput.Text == ACCESS_KEY then
        KeyFrame:Destroy()
        XCIcon.Visible = true
        addMsg("SYSTEM", "XENO Global Linked. Welcome, " .. CREATOR_NAME)
    else
        KeyInput.Text = ""; 
        KeyInput.PlaceholderText = "WRONG KEY!"
        task.wait(1.5)
        KeyInput.PlaceholderText = "Enter Access Key..."
    end
end)

XCIcon.MouseButton1Click:Connect(function() ChatFrame.Visible = not ChatFrame.Visible end)

ChatInput.FocusLost:Connect(function(enter)
    if enter and #ChatInput.Text > 0 then
        addMsg(LocalPlayer.Name, ChatInput.Text)
        ChatInput.Text = ""
    end
end)

makeDraggable(ChatFrame)
makeDraggable(XCIcon)
